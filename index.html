<html>
   <head>
      <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
   </head>
   <body>
      <h1>Legal advice</h1>
      <form id="formoid" method="POST" action="https://legaladvicefunctionapp.azurewebsites.net/UserInput">
         <label for="prompt">Prompt</label><br />
         <textarea id="prompt" name="prompt" cols="50" rows="15"></textarea>
         <label for="jurisdiction">Jurisdiction</label><br />
         <textarea id="jurisdiction" name="jurisdiction" cols="50" rows="1"></textarea>
         <label for="context">Context</label><br />
         <textarea id="context" name="context" cols="50" rows="1"></textarea>
         <input type="submit" value="Get legal advice">
      </form>
      <div id="result">[answer will be shown here]</div>
      
      <script type="text/javascript">
/* attach a submit handler to the form */
$("#formoid").submit(function(event) {
    /* stop form from submitting normally */
    event.preventDefault();
    $('#result').text('âŒ› Getting legal advice. Please wait...');

    /* get the action attribute from the <form action=""> element */
    var $form = $(this),
        url = $form.attr('action');

    /* Send the data using post with element id name and name2*/
    var posting = $.post(url, {
        prompt: $('#prompt').val(),
        jurisdiction: $('#jurisdiction').val(),
        context: $('#context').val(),
        crossDomain: true
    });

    /* Alerts the results */
    posting.done(function(data) {
        // log it
        console.log(data);
        $('#result').text(data);
    });
    posting.fail(function() {
        $('#result').text('failed');
    });
});
      </script>
      
   </body>
</html>
